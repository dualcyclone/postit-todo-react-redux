{"version":3,"sources":["main/store/persistence.js","main/constants.js","main/models/Item.js","main/store/reducer.js","components/Item/Item.js","components/Item/ItemCreator.js","main/store/actions.js","components/Item/ExistingItem.js","components/ItemsList/index.js","components/App/index.js","index.js"],"names":["enablePersistence","store","subscribe","localStorage","setItem","JSON","stringify","getState","Item","content","Object","classCallCheck","this","id","generateKey","completed","color","randomColor","luminosity","createClass","key","value","btoa","Date","now","initialState","parse","getItem","items","reducer","newItems","itemIndex","state","arguments","length","undefined","action","type","item","oldItems","concat","toConsumableArray","indexOf","slice","objectSpread","_ref","_ref$ElementType","ElementType","children","className","react_default","a","createElement","style","backgroundColor","ItemCreator","_Component","_this","possibleConstructorReturn","getPrototypeOf","call","inputValue","inputField","React","createRef","inherits","props","onAdd","setState","evt","target","_this2","components_Item_Item","ref","rows","placeholder","onKeyPress","e","preventDefault","handleAddItem","onChange","updateInputValue","onClick","Component","connect","dispatch","newItem","ownProps","onDoneClick","onRemoveClick","map","Item_ExistingItem","App","Item_ItemCreator","components_ItemsList","createStore","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.7b1fd92c.chunk.js","sourcesContent":["import { TODOLIST_PERSISTANCE } from '../constants'\n\n// persisting the store to localStorage\nconst enablePersistence = store => store.subscribe(() => {\n    localStorage.setItem(\n        TODOLIST_PERSISTANCE,\n        JSON.stringify(store.getState())\n    )\n})\n\nexport default enablePersistence\n","// action types\nexport const ADD_ITEM = 'ADD_ITEM'\nexport const COMPLETE_ITEM = 'COMPLETE_ITEM'\nexport const REMOVE_ITEM = 'REMOVE_ITEM'\n\n// localstorage key\nexport const TODOLIST_PERSISTANCE = 'TODOLIST_PERSISTANCE'\n","import randomColor from 'randomcolor'\n\nexport class Item {\n  static generateKey() {\n    return btoa(Date.now())\n  }\n\n  constructor(content) {\n     return {\n      id: Item.generateKey(),\n      content: content,\n      completed: false,\n      color: randomColor({ luminosity: 'light' })\n    }\n  }\n}\n\nexport default Item\n","import { ADD_ITEM, COMPLETE_ITEM, REMOVE_ITEM, TODOLIST_PERSISTANCE } from '../constants'\nimport Item from '../models/Item'\n\nconst DEFAULT_STATE = { items: [] }\nconst PERSISTED_STATE = JSON.parse(localStorage.getItem(TODOLIST_PERSISTANCE))\n\nconst initialState = PERSISTED_STATE || DEFAULT_STATE\n\nconst reducer = (state = initialState, action) => {\n  const { type, item, content } = action\n  let oldItems = state.items\n  let newItems\n  let itemIndex\n\n  switch (type) {\n    case ADD_ITEM:\n      newItems = [\n        ...oldItems,\n        new Item(content)\n      ]\n      break\n\n    case COMPLETE_ITEM:\n      itemIndex = state.items.indexOf(item)\n      newItems = [\n        ...oldItems.slice(0, itemIndex),\n        {\n          ...item,\n          completed: !item.completed\n        },\n        ...oldItems.slice(itemIndex + 1)\n      ]\n      break\n\n    case REMOVE_ITEM:\n      itemIndex = state.items.indexOf(item)\n      newItems = [\n        ...oldItems.slice(0, itemIndex),\n        ...oldItems.slice(itemIndex + 1)\n      ]\n      break\n\n    default:\n      return state\n  }\n\n  return {\n    ...state,\n    items: newItems\n  }\n}\n\nexport default reducer\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport './styles.css'\n\nexport const Item = ({ ElementType = 'li', color, children, className }) => (\n  <ElementType className={`todoItem ${className}` }>\n    <div style={{ backgroundColor: color }}>\n      { children }\n    </div>\n  </ElementType>\n)\n\nItem.propTypes = {\n  className: PropTypes.string.isRequired,\n}\n\nexport default Item\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { addItem } from '../../main/store/actions'\nimport Item from './Item'\nimport './styles.css'\n\nexport class ItemCreator extends Component {\n  constructor() {\n    super()\n\n    this.state = {\n      inputValue: ''\n    }\n\n    this.inputField = React.createRef()\n  }\n\n  handleAddItem() {\n    const { inputValue } = this.state\n\n    if (inputValue) {\n      this.props.onAdd(inputValue)\n    }\n\n    this.setState({ inputValue: '' })\n  }\n\n  updateInputValue(evt) {\n    this.setState({\n      inputValue: evt.target.value\n    })\n  }\n\n  render() {\n    return (\n      <Item ElementType=\"div\" className=\"itemCreator\">\n        <p>Add another item...</p>\n        <textarea\n          ref={this.inputField}\n          className=\"itemCreator-input\"\n          type=\"text\"\n          rows=\"8\"\n          placeholder=\"What do you need to do?\"\n          onKeyPress={(e) => {\n            if (e.key === 'Enter') {\n              e.preventDefault()\n              this.handleAddItem()\n            }\n          }}\n          value={this.state.inputValue}\n          onChange={evt => this.updateInputValue(evt)}\n        />\n        <button onClick={() => this.handleAddItem()} className=\"icon icono-plusCircle\">&nbsp</button>\n      </Item>\n    )\n  }\n}\n\nItemCreator.propTypes = {\n  onAdd: PropTypes.func.isRequired\n}\n\nconst mapDispatchToProps = dispatch => ({\n  onAdd: newItem => dispatch(addItem(newItem))\n})\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(ItemCreator)\n","import { ADD_ITEM, COMPLETE_ITEM, REMOVE_ITEM } from '../constants'\n\nconst addItem = content => ({ type: ADD_ITEM, content })\nconst completeItem = item => ({ type: COMPLETE_ITEM, item })\nconst removeItem = item => ({ type: REMOVE_ITEM, item })\n\nexport { addItem, completeItem, removeItem }\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { completeItem, removeItem } from '../../main/store/actions'\nimport Item from './Item'\nimport './styles.css'\n\nexport const ExistingItem = ({ item, onDoneClick, onRemoveClick }) => (\n  <Item\n    className={ item.completed ? 'complete' : 'todo' }\n    color={ item.color }>\n    <p>{ item.content }</p>\n    <button onClick={onDoneClick} className={`icon ${item.completed ? 'icono-cross' : 'icono-check'}`}>&nbsp</button>\n    <button onClick={onRemoveClick} className=\"icon icono-trash\">&nbsp</button>\n  </Item>\n)\n\nExistingItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  onDoneClick: PropTypes.func.isRequired,\n  onRemoveClick: PropTypes.func.isRequired\n}\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  onDoneClick: () => dispatch(completeItem(ownProps.item)),\n  onRemoveClick: () => dispatch(removeItem(ownProps.item)),\n})\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(ExistingItem)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport ExistingItem from '../Item/ExistingItem'\nimport './styles.css'\n\nexport const ItemsList = ({ items }) => {\n  return (\n    <div>\n      { items.length > 0 &&\n        <ul className=\"itemsList-ul\">\n          { items.map(item => (\n            <ExistingItem key={ item.id } item={ item } />\n          )) }\n        </ul>\n      }\n    </div>\n  )\n}\n\nItemsList.propTypes = {\n  items: PropTypes.array.isRequired,\n}\n\nconst mapStateToProps = state => ({\n  items: state.items\n})\n\nexport default connect(\n  mapStateToProps\n)(ItemsList)\n","import React from 'react'\nimport ItemCreator from '../Item/ItemCreator'\nimport ItemsList from '../ItemsList'\nimport './styles.css'\n\nexport const App = () => (\n  <div className=\"app\">\n    <ItemCreator />\n    <ItemsList />\n  </div>\n)\n\nexport default App\n","import React from 'react'\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport ReactDOM from 'react-dom'\nimport enablePersistence from './main/store/persistence'\nimport reducer from './main/store/reducer'\nimport App from './components/App'\nimport './index.css'\n\nconst store = createStore(reducer)\n\nenablePersistence(store)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}